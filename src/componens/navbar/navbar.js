import React, {useEffect} from 'react';
import style from './navbar.module.sass';
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'
import {NavLink} from 'react-router-dom';
import {withRouter} from "react-router-dom";
import {connect} from "react-redux";
import {changeScenarioId} from "../../actions/actionCreator";

const Navbar = (props) => {
    const {botId} = props.match.params;

    useEffect(() => {
        props.changeScenarioId(false);
    }, [props.match.url]);


    return (
        <div className={style.mainContainer}>
            <ul className={style.menuContainer}>
                <li>
                    <NavLink
                        to={`/bots/${botId}/setup`}
                        className={style.link}
                        activeClassName={style.activeLink}
                    >
                        <svg className={style.swg_style}
                        xmlns="http://www.w3.org/2000/svg"
                        x="0"
                        y="0"
                        enableBackground="new 0 0 512 512"
                        version="1.1"
                        viewBox="0 0 512 512"
                        xmlSpace="preserve"
                        >
                        <path d="M454.2 189.101l-33.6-5.7c-3.5-11.3-8-22.2-13.5-32.6l19.8-27.7c8.4-11.8 7.1-27.9-3.2-38.1l-29.8-29.8c-5.6-5.6-13-8.7-20.9-8.7-6.2 0-12.1 1.9-17.1 5.5l-27.8 19.8c-10.8-5.7-22.1-10.4-33.8-13.9l-5.6-33.2a29.54 29.54 0 00-29.2-24.7h-42.1c-14.5 0-26.8 10.4-29.2 24.7l-5.8 34c-11.2 3.5-22.1 8.1-32.5 13.7l-27.5-19.8c-5-3.6-11-5.5-17.2-5.5-7.9 0-15.4 3.1-20.9 8.7l-29.9 29.8c-10.2 10.2-11.6 26.3-3.2 38.1l20 28.1c-5.5 10.5-9.9 21.4-13.3 32.7l-33.2 5.6a29.54 29.54 0 00-24.7 29.2v42.1c0 14.5 10.4 26.8 24.7 29.2l34 5.8c3.5 11.2 8.1 22.1 13.7 32.5l-19.7 27.4c-8.4 11.8-7.1 27.9 3.2 38.1l29.8 29.8c5.6 5.6 13 8.7 20.9 8.7 6.2 0 12.1-1.9 17.1-5.5l28.1-20c10.1 5.3 20.7 9.6 31.6 13l5.6 33.6a29.54 29.54 0 0029.2 24.7h42.2c14.5 0 26.8-10.4 29.2-24.7l5.7-33.6c11.3-3.5 22.2-8 32.6-13.5l27.7 19.8c5 3.6 11 5.5 17.2 5.5 7.9 0 15.3-3.1 20.9-8.7l29.8-29.8c10.2-10.2 11.6-26.3 3.2-38.1l-19.8-27.8c5.5-10.5 10.1-21.4 13.5-32.6l33.6-5.6a29.54 29.54 0 0024.7-29.2v-42.1c.2-14.5-10.2-26.8-24.5-29.2zm-2.3 71.3c0 1.3-.9 2.4-2.2 2.6l-42 7c-5.3.9-9.5 4.8-10.8 9.9-3.8 14.7-9.6 28.8-17.4 41.9-2.7 4.6-2.5 10.3.6 14.7l24.7 34.8c.7 1 .6 2.5-.3 3.4l-29.8 29.8c-.7.7-1.4.8-1.9.8-.6 0-1.1-.2-1.5-.5l-34.7-24.7c-4.3-3.1-10.1-3.3-14.7-.6-13.1 7.8-27.2 13.6-41.9 17.4-5.2 1.3-9.1 5.6-9.9 10.8l-7.1 42c-.2 1.3-1.3 2.2-2.6 2.2h-42.1c-1.3 0-2.4-.9-2.6-2.2l-7-42c-.9-5.3-4.8-9.5-9.9-10.8-14.3-3.7-28.1-9.4-41-16.8-2.1-1.2-4.5-1.8-6.8-1.8-2.7 0-5.5.8-7.8 2.5l-35 24.9c-.5.3-1 .5-1.5.5-.4 0-1.2-.1-1.9-.8l-29.8-29.8c-.9-.9-1-2.3-.3-3.4l24.6-34.5c3.1-4.4 3.3-10.2.6-14.8-7.8-13-13.8-27.1-17.6-41.8-1.4-5.1-5.6-9-10.8-9.9l-42.3-7.2c-1.3-.2-2.2-1.3-2.2-2.6v-42.1c0-1.3.9-2.4 2.2-2.6l41.7-7c5.3-.9 9.6-4.8 10.9-10 3.7-14.7 9.4-28.9 17.1-42 2.7-4.6 2.4-10.3-.7-14.6l-24.9-35c-.7-1-.6-2.5.3-3.4l29.8-29.8c.7-.7 1.4-.8 1.9-.8.6 0 1.1.2 1.5.5l34.5 24.6c4.4 3.1 10.2 3.3 14.8.6 13-7.8 27.1-13.8 41.8-17.6 5.1-1.4 9-5.6 9.9-10.8l7.2-42.3c.2-1.3 1.3-2.2 2.6-2.2h42.1c1.3 0 2.4.9 2.6 2.2l7 41.7c.9 5.3 4.8 9.6 10 10.9 15.1 3.8 29.5 9.7 42.9 17.6 4.6 2.7 10.3 2.5 14.7-.6l34.5-24.8c.5-.3 1-.5 1.5-.5.4 0 1.2.1 1.9.8l29.8 29.8c.9.9 1 2.3.3 3.4l-24.7 34.7c-3.1 4.3-3.3 10.1-.6 14.7 7.8 13.1 13.6 27.2 17.4 41.9 1.3 5.2 5.6 9.1 10.8 9.9l42 7.1c1.3.2 2.2 1.3 2.2 2.6v42.1h-.1z" />
                        <path d="M239.4 136.001c-57 0-103.3 46.3-103.3 103.3s46.3 103.3 103.3 103.3 103.3-46.3 103.3-103.3-46.3-103.3-103.3-103.3zm0 179.6c-42.1 0-76.3-34.2-76.3-76.3s34.2-76.3 76.3-76.3 76.3 34.2 76.3 76.3-34.2 76.3-76.3 76.3z" />
                        </svg>Настройки
                    </NavLink>
                </li>
                <li>
                    <NavLink
                        to={`/bots/${botId}/scenario`}
                         className={style.link}
                         activeClassName={style.activeLink}
                    >
                        <svg className={style.swg_style}
                        xmlns="http://www.w3.org/2000/svg"
                        x="0"
                        y="0"
                        enableBackground="new 0 0 511.999 511.999"
                        viewBox="0 0 511.999 511.999"
                        >
                        <path d="M244.9 28.6C109.8 28.6 0 125.6 0 244.8c0 47.1 17.6 93.2 49.7 130.6-6.7 14.8-16.5 26.5-29.3 34.8-6.6 4.3-9.8 12.1-8.1 19.8 1.7 7.6 7.8 13.2 15.6 14.3 7.7 1.1 15.6 1.6 23.3 1.6 24.8 0 47.4-5.3 67.3-15.8 38.1 20.3 81.6 31 126.3 31 135.1 0 244.9-97 244.9-216.2S380 28.6 244.9 28.6zm0 407.9c-42.9 0-84.5-10.8-120.3-31.2-1.9-1.1-4-1.6-6.1-1.6-2.2 0-4.4.6-6.3 1.7-18.8 11.3-41.4 16.7-66 15.8 12.9-11.6 22.7-26.3 29.3-44 1.6-4.3.6-9.2-2.5-12.6-31.8-34.3-48.5-75.7-48.5-119.8 0-105.7 98.9-191.7 220.4-191.7s220.4 86 220.4 191.7-98.9 191.7-220.4 191.7z" />
                        <circle cx="244.8" cy="244.8" r="15.7" />
                        <circle cx="177.2" cy="244.8" r="15.7" />
                        <circle cx="312.4" cy="244.8" r="15.7" />
                        </svg>Сценарий
                    </NavLink>
                </li>
                <li>
                    <NavLink
                        to={`/bots/${botId}/autoride`}
                        className={style.link}
                        activeClassName={style.activeLink}
                    >
                        <svg className={style.swg_style}
                        xmlns="http://www.w3.org/2000/svg"
                        x="0"
                        y="0"
                        enableBackground="new 0 0 247.46 247.46"
                        version="1.1"
                        viewBox="0 0 247.46 247.46"
                        xmlSpace="preserve"
                        >
                        <path d="M246.744 13.984a7.5 7.5 0 00-6.784-4.301H7.5a7.501 7.501 0 00-5.787 12.271l89.361 108.384v99.94a7.5 7.5 0 0010.83 6.72l50.208-24.885a7.499 7.499 0 004.169-6.71l.098-75.062 89.366-108.388a7.497 7.497 0 00.999-7.969zM143.097 122.873a7.498 7.498 0 00-1.713 4.761l-.096 73.103-35.213 17.453v-90.546a7.496 7.496 0 00-1.713-4.771L23.404 24.682h200.651l-80.958 98.191z" />
                        </svg>Автоворонка
                    </NavLink>
                </li>
                <li>
                    <NavLink
                        to={`/bots/${botId}/broadcast`}
                        className={style.link}
                        activeClassName={style.activeLink}
                    >
                        <svg className={style.swg_style}
                        xmlns="http://www.w3.org/2000/svg"
                        x="0"
                        y="0"
                        enableBackground="new 0 0 512 512"
                        version="1.1"
                        viewBox="0 0 512 512"
                        xmlSpace="preserve"
                        >
                        <path d="M.043 245.197c.6 10.1 7.3 18.6 17 21.5l179.6 54.3 6.6 123.8c.3 4.9 3.6 9.2 8.3 10.8 1.3.5 2.7.7 4 .7 3.5 0 6.8-1.4 9.2-4.1l63.5-70.3 90 62.3c4 2.8 8.7 4.3 13.6 4.3 11.3 0 21.1-8 23.5-19.2l74.7-380.7c.9-4.4-.8-9-4.2-11.8-3.5-2.9-8.2-3.6-12.4-1.9l-459 186.8c-9.3 4.2-15 13.4-14.4 23.5zm226 168.9l-4.1-78.1 46 31.8-41.9 46.3zm165.4 9.5l-163.8-113.4 229.7-222.2-65.9 335.6zm40.7-345.4l-227.1 219.7-179.4-54.2 406.5-165.5z" />
                        </svg>рассылка
                    </NavLink>
                </li>
                <li>
                    <NavLink
                        to={`/bots/${botId}/dialog`}
                        className={style.link}
                        activeClassName={style.activeLink}
                    >
                        <svg className={style.swg_style}
                        xmlns="http://www.w3.org/2000/svg"
                        x="0"
                        y="0"
                        enableBackground="new 0 0 60 60"
                        version="1.1"
                        viewBox="0 0 60 60"
                        xmlSpace="preserve"
                        >
                        <path d="M42 15.5H5.93C2.66 15.5 0 18.16 0 21.429V42.57c0 3.27 2.66 5.93 5.93 5.93H12v10a1 1 0 001.74.673L23.442 48.5H42c3.27 0 5.93-2.66 5.93-5.929V21.43c0-3.27-2.66-5.93-5.93-5.93z" />
                        <path d="M54.072.57L19.93.5C16.66.5 14 3.16 14 6.43v6.122a1 1 0 001 1h.002L40.07 13.5c8.951 0 9.93 2.021 9.93 7.93v21.141c0 .091-.01.181-.014.271l1.274 1.401A1 1 0 0053 43.57v-10h1.07c3.27 0 5.93-2.66 5.93-5.929V6.5C60 3.23 57.34.57 54.072.57z" />
                        </svg>диалог
                    </NavLink>
                </li>
                <li>
                    <NavLink
                        to={`/bots/${botId}/growth`}
                        className={style.link}
                        activeClassName={style.activeLink}
                    >
                        <svg className={style.swg_style} xmlns="http://www.w3.org/2000/svg" viewBox="0 -39 938.752 938">
                        <path d="M860.633 265.543a77.863 77.863 0 00-68.715 41.008c-13.594 25.281-12.164 56.004 3.715 79.922L685.199 496.91a77.435 77.435 0 00-68.894-8.562 77.443 77.443 0 00-48.094 50.086l-145.152-15.258c-2.922-32.04-25.274-58.973-56.227-67.746-30.95-8.782-64.11 2.406-83.426 28.136-19.308 25.739-20.789 60.696-3.707 87.965L125.496 716.594c-33.164-23.73-78.918-18.457-105.805 12.207-26.89 30.656-26.156 76.699 1.696 106.488 27.851 29.79 73.75 33.602 106.14 8.836 32.387-24.766 40.727-70.066 19.278-104.746L301.004 594.32a77.342 77.342 0 0069.672 10.293 77.308 77.308 0 0049.137-50.445l145.156 15.258c3.09 32.234 25.843 59.187 57.105 67.652 31.27 8.469 64.508-3.324 83.434-29.61 18.941-26.28 19.61-61.542 1.687-88.519L817.63 408.512c27.824 18.476 64.32 17.172 90.77-3.227 26.44-20.398 36.956-55.37 26.156-86.976-10.797-31.602-40.524-52.817-73.922-52.766zM80.73 827.07c-25.84 0-46.796-20.945-46.796-46.793 0-25.84 20.957-46.793 46.796-46.793 25.84 0 46.797 20.953 46.797 46.793 0 25.848-20.957 46.793-46.797 46.793zm265.168-249.566c-25.843 0-46.796-20.95-46.796-46.797 0-25.84 20.953-46.797 46.796-46.797 25.84 0 46.793 20.957 46.793 46.797 0 25.848-20.953 46.797-46.793 46.797zm296.36 31.195c-25.84 0-46.79-20.949-46.79-46.797 0-25.84 20.95-46.789 46.79-46.789 25.844 0 46.797 20.95 46.797 46.79 0 25.847-20.953 46.796-46.797 46.796zm218.375-218.375c-25.84 0-46.793-20.945-46.793-46.789s20.953-46.797 46.793-46.797c25.844 0 46.793 20.953 46.793 46.797 0 25.844-20.95 46.79-46.793 46.79zm0 0M33.934 405.926c4.14 0 8.109-1.645 11.03-4.57L174.317 272l74.762 74.762c6.098 6.086 15.969 6.086 22.059 0l160.55-160.551L568.84 323.363c6.094 6.09 15.96 6.09 22.058 0L860.633 53.63v24.738c0 8.617 6.98 15.598 15.597 15.598 8.614 0 15.598-6.98 15.598-15.598V15.973a15.506 15.506 0 00-1.09-5.438c-.21-.539-.457-1.055-.722-1.57a15.586 15.586 0 00-2.18-3.238 13.715 13.715 0 00-5.207-3.965c-.149 0-.25-.18-.395-.23a15.631 15.631 0 00-5.453-1.079c-.218.016-.363-.078-.55-.078H813.84c-8.617 0-15.598 6.992-15.598 15.598 0 8.613 6.98 15.597 15.598 15.597h24.734L579.867 290.281 442.715 153.13c-6.09-6.082-15.965-6.082-22.059 0L260.11 313.676l-74.757-74.762c-6.098-6.082-15.97-6.082-22.059 0L22.91 379.297c-4.453 4.469-5.797 11.176-3.383 17.004a15.593 15.593 0 0014.407 9.625zm0 0" />
                        </svg>
                        инструмент роста
                    </NavLink>
                </li>
                <li>
                    <NavLink
                        to={`/bots/${botId}/statistics`}
                        className={style.link}
                        activeClassName={style.activeLink}
                    >
                        <svg className={style.swg_style} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                        <path d="M76 240c12.102 0 23.055-4.855 31.148-12.652l44.403 22.199c-.223 1.808-.551 3.586-.551 5.453 0 24.813 20.188 45 45 45s45-20.188 45-45c0-6.926-1.703-13.41-4.512-19.277l60.235-60.235C302.59 178.297 309.074 180 316 180c24.813 0 45-20.188 45-45 0-4.672-.918-9.09-2.246-13.328L411.09 82.43C418.23 87.2 426.79 90 436 90c24.813 0 45-20.188 45-45S460.812 0 436 0s-45 20.188-45 45c0 4.672.918 9.09 2.246 13.328L340.91 97.57C333.77 92.8 325.21 90 316 90c-24.813 0-45 20.188-45 45 0 6.926 1.703 13.41 4.512 19.277l-60.235 60.235C209.41 211.703 202.926 210 196 210c-12.102 0-23.055 4.855-31.148 12.652l-44.403-22.199c.223-1.808.551-3.586.551-5.453 0-24.813-20.187-45-45-45s-45 20.188-45 45 20.188 45 45 45zm0 0" />
                        <path d="M497 482h-16V165c0-8.29-6.71-15-15-15h-60c-8.29 0-15 6.71-15 15v317h-30V255c0-8.29-6.71-15-15-15h-60c-8.29 0-15 6.71-15 15v227h-30V375c0-8.29-6.71-15-15-15h-60c-8.29 0-15 6.71-15 15v107h-30V315c0-8.29-6.71-15-15-15H46c-8.29 0-15 6.71-15 15v167H15c-8.29 0-15 6.71-15 15s6.71 15 15 15h482c8.29 0 15-6.71 15-15s-6.71-15-15-15zm0 0" />
                        </svg>статистика
                    </NavLink>
                </li>

            </ul>
        </div>
    )
};

const mapDispatchToProps = dispatch => ({
   changeScenarioId: (scenarioId) => dispatch(changeScenarioId(scenarioId))
});

export default withRouter(connect(null, mapDispatchToProps)(Navbar));
